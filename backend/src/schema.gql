# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Message {
  id: Int!
  createdAt: Date!
  updatedAt: Date!
  author: User!
  body: String!
}

"""Date custom scalar type"""
scalar Date

type Photo {
  id: Int!
  createdAt: Date!
  updatedAt: Date!
  name: String!
  url: String!
}

type Vote {
  id: Int!
  createdAt: Date!
  updatedAt: Date!
  value: Int!
}

type User {
  id: Int!
  createdAt: Date!
  updatedAt: Date!
  displayName: String!
  email: String!
  photo: String
  isAdmin: Boolean!
  isModerator: Boolean!
  joinedRooms: [Room!]!
  ignore: [User!]!
}

type Link {
  id: Int!
  createdAt: Date!
  updatedAt: Date!
  url: String!
  publisher: String!
  author: String
  title: String
  description: String
  photo: String
}

type Entry {
  id: Int!
  createdAt: Date!
  updatedAt: Date!
  url: String!
  slug: String!
  title: String!
  publisher: String
  description: String!
  body: String
  author: User!
  room: Room!
  photo: Photo!
  type: EntryType!
  voteScore: Int
}

enum EntryType {
  LINK
  ARTICLE
  VIDEO
}

type Room {
  id: Int!
  createdAt: Date!
  updatedAt: Date!
  name: String!
  description: String!
  author: User!
  usersNumber: Int!
}

type OnlineUser {
  userId: Int!
  roomId: Int!
  name: String!
  photo: String
  isAdmin: Boolean!
  isModerator: Boolean!
}

type Query {
  me: User!
  user(id: Int!): User!
  onlineUsers(roomId: Int!): [OnlineUser!]!
  room(name: String!): Room!
  newRooms: [Room!]!
  searchRooms(name: String!): [Room!]!
  popularRooms(limit: Int!): [Room!]!
  initialMessages(roomId: Int!): [Message!]!
  entries(queryData: QueryEntriesInput!): [Entry!]!
  checkLinkExsits(linkId: Int!, roomId: Int!): [Entry!]!
  metadata(url: String!): Link!
}

input QueryEntriesInput {
  roomName: String!
  limit: Int!
  offset: Int!
}

type Mutation {
  loginUserWithFacebook(access_token: String!): Boolean!
  logout: Boolean!
  changeUserDisplayName(name: String!): User!
  ignoreUser(id: Int!): Boolean!
  removeIgnoreUser(id: Int!): Boolean!
  createRoom(newRoomData: NewRoomInput!): Room!
  joinRoom(id: Int!): Boolean!
  leaveRoom(id: Int!): Boolean!
  createMessage(newMessageData: NewMessageInput!): Message!
  deleteMessage(id: Int!): Boolean!
  createLink(newLinkData: NewLinkData!): Entry!
  vote(value: VoteValueEnum!, entryId: Int!): Vote!
}

input NewRoomInput {
  name: String!
  description: String!
}

input NewMessageInput {
  roomId: Int!
  body: String!
}

input NewLinkData {
  title: String!
  photo: String!
  description: String!
  linkId: Int!
  roomId: Int!
}

enum VoteValueEnum {
  UP
  DOWN
  NONE
}

type Subscription {
  messageAdded(roomId: Int!): Message!
  messageDeleted(roomId: Int!): Message!
}
